/*!  - v1.1.0
 * https://github.com/petenelson/wp-rest-api-log
 * Copyright (c) 2017; * Licensed GPLv2+ */
!function(a){"use strict";var b={entry_element:null,init:function(){if(this.entry_element=a(document.getElementById("wp-rest-api-log-entry")),this.highlightBlocks(),this.adjustPostsListsTable(),"undefined"!=typeof WP_REST_API_Log_Migrate_Data&&this.migrateLegacyDB(),a("body").hasClass("settings_page_wp-rest-api-log-settings")&&a(".wp-rest-api-log-purge-all").on("click",this.purgeLog),this.entry_element.length>0){new Clipboard(".wp-rest-api-log-entry-copy-property")}},highlightBlocks:function(){this.entry_element.length>0&&this.entry_element.find("code").each(function(a,b){hljs.highlightBlock(b)})},adjustPostsListsTable:function(){a("body").hasClass("post-type-wp-rest-api-log")&&a(".wp-list-table").removeClass("fixed")},migrateLegacyDB:function(){a.get(ajaxurl,{action:WP_REST_API_Log_Migrate_Data.action,nonce:WP_REST_API_Log_Migrate_Data.nonce})},purgeLog:function(b){b.preventDefault(),a(".wp-rest-api-log-purge-all").addClass("hidden"),a(".wp-rest-api-log-purge-all-spinner").removeClass("hidden").addClass("is-active"),a.ajax({url:WP_REST_API_Log_Admin_Data.endpoints.purge_entries,method:"DELETE",beforeSend:function(a){a.setRequestHeader("X-WP-Nonce",WP_REST_API_Log_Admin_Data.nonce)}}).done(function(b){a(".wp-rest-api-log-purge-all-spinner").addClass("hidden").removeClass("is-active")})}};a(document).ready(function(){b.init()})}(jQuery);